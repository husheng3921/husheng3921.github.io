[{"title":"基于gitee和hexo搭建个人博客","url":"/2020/02/23/%E5%9F%BA%E4%BA%8Egitee%E5%92%8Chexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/","content":"<h3 id=\"背景\"><a href=\"#背景\" class=\"headerlink\" title=\"背景\"></a>背景</h3><p>最近折腾博客，开始采用github page方式的静态博客，但是考虑到国内访问GitHub速度慢且不稳定，故在原有GitHub和hexo(AirCloud搭建的博客基础上，迁移到码云Gitee上，这里有些坑提出来，供大家参考。参考博客：<a href=\"https://segmentfault.com/a/1190000018662692?utm_source=tag-newest\" target=\"_blank\" rel=\"noopener\">基于Gitee+Hexo搭建个人博客</a></p>\n<h3 id=\"环境搭建\"><a href=\"#环境搭建\" class=\"headerlink\" title=\"环境搭建\"></a>环境搭建</h3><p>打开hexo官网<a href=\"https://hexo.io/zh-cn/docs/\" target=\"_blank\" rel=\"noopener\">hexo doc</a>;参照指南安装好node，git。注意国内访问npm镜像较慢，切换成淘宝镜像源，执行下面命令：<br>切换淘宝镜像<br><code>$ npm config set registry https://registry.npm.taobao.org</code><br>查看是否切换到淘宝镜像<br><code>$ npm info underscore</code>  </p>\n<h4 id=\"1、安装hexo\"><a href=\"#1、安装hexo\" class=\"headerlink\" title=\"1、安装hexo\"></a>1、安装hexo</h4><p>使用npm安装hexo<br><code>$ npm install -g hexo-cli</code><br>这里可能会出错，<a href=\"https://blog.csdn.net/sunxiaoju/article/details/102568075\" target=\"_blank\" rel=\"noopener\">参考链接</a>中的错误，cmd中输入命令行：<br><code>$ set-ExecutionPolicy RemoteSigned 选择A</code>  </p>\n<h4 id=\"2、建站\"><a href=\"#2、建站\" class=\"headerlink\" title=\"2、建站\"></a>2、建站</h4><p>hexo安装完后，执行下面命令：  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo init &lt;folder&gt;</span><br><span class=\"line\">$ cd &lt;folder&gt;</span><br><span class=\"line\">$ npm install</span><br></pre></td></tr></table></figure>\n<p>执行完后生成如下：  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">.</span><br><span class=\"line\">├── _config.yml</span><br><span class=\"line\">├── package.json</span><br><span class=\"line\">├── scaffolds</span><br><span class=\"line\">├── source</span><br><span class=\"line\">|   ├── _drafts</span><br><span class=\"line\">|   └── _posts</span><br><span class=\"line\">└── themes</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"3、配置\"><a href=\"#3、配置\" class=\"headerlink\" title=\"3、配置\"></a>3、配置</h4><p>主要是在_config.yml修改属性<br>具体说明参考<a href=\"https://hexo.io/zh-cn/docs/configuration\" target=\"_blank\" rel=\"noopener\">hexo官方配置</a>，我使用的主题是<a href=\"https://github.com/aircloud/hexo-theme-aircloud\" target=\"_blank\" rel=\"noopener\">aircloud</a>,主题配置参考下面命令：  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ cd themes</span><br><span class=\"line\">$ git clone https:&#x2F;&#x2F;github.com&#x2F;aircloud&#x2F;hexo-theme-aircloud.git  </span><br><span class=\"line\">然后修改_config.yml中属性theme: hexo-theme-aircloud</span><br></pre></td></tr></table></figure>\n<p>我这里给出我主要的配置信息供参考：  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\"># Site</span><br><span class=\"line\">title: husheng3921</span><br><span class=\"line\">subtitle: Stay Hungry, Stay Foolish!</span><br><span class=\"line\">keywords:</span><br><span class=\"line\">author: Hu Sheng</span><br><span class=\"line\">language: zh</span><br><span class=\"line\">timezone: &#39;&#39;</span><br><span class=\"line\"></span><br><span class=\"line\"># Site settings</span><br><span class=\"line\"># 网站综合内容设置：</span><br><span class=\"line\">SEOTitle: husheng3921的博客 | husheng3921&#39;s Blog</span><br><span class=\"line\">email: husheng3921@gmail.com</span><br><span class=\"line\">description: &quot;胡圣的博客&quot;</span><br><span class=\"line\"># keyword: &quot;腾讯&quot;</span><br><span class=\"line\"></span><br><span class=\"line\"># 头像图片地址</span><br><span class=\"line\">sidebar-avatar: img&#x2F;avatar.jpg</span><br><span class=\"line\">avatar_style:</span><br><span class=\"line\">  radius: true</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"># search博客内容搜索</span><br><span class=\"line\">search:</span><br><span class=\"line\">  path: search.json</span><br><span class=\"line\">  field: post</span><br><span class=\"line\"></span><br><span class=\"line\"># SNS settings</span><br><span class=\"line\"># 一些社交平台地址，支持以下几种：</span><br><span class=\"line\">weibo_username:     5012869548</span><br><span class=\"line\">github_username:    husheng3921</span><br><span class=\"line\"># twitter_username:   iconie_alloy</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"># 评论</span><br><span class=\"line\">comment:</span><br><span class=\"line\">   type: disqus</span><br><span class=\"line\">   script: &#39;https:&#x2F;&#x2F;airclouds-blog.disqus.com&#x2F;embed.js&#39;</span><br><span class=\"line\"># Extensions</span><br><span class=\"line\">## Plugins: https:&#x2F;&#x2F;hexo.io&#x2F;plugins&#x2F;</span><br><span class=\"line\">## Themes: https:&#x2F;&#x2F;hexo.io&#x2F;themes&#x2F;</span><br><span class=\"line\">theme: hexo-theme-aircloud</span><br><span class=\"line\"></span><br><span class=\"line\"># Deployment</span><br><span class=\"line\">## Docs: https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;deployment.html</span><br><span class=\"line\">deploy:</span><br><span class=\"line\">  type: git</span><br><span class=\"line\">  # gitee.com</span><br><span class=\"line\">  repo: https:&#x2F;&#x2F;gitee.com&#x2F;husheng3921&#x2F;husheng3921</span><br><span class=\"line\">  # repo: https:&#x2F;&#x2F;github.com&#x2F;husheng3921&#x2F;husheng3921.github.io.git</span><br><span class=\"line\">  branch: master</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"4、命令\"><a href=\"#4、命令\" class=\"headerlink\" title=\"4、命令\"></a>4、命令</h4><p>主要有新建、本地运行、部署,<a href=\"https://hexo.io/zh-cn/docs/commands\" target=\"_blank\" rel=\"noopener\">详见</a>；  </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">hexo new [layout] &lt;filename&gt;  新建</span><br><span class=\"line\">hexo server  本地运行</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"5、部署\"><a href=\"#5、部署\" class=\"headerlink\" title=\"5、部署\"></a>5、部署</h4><ul>\n<li>GitHub部署<br>在github新建仓库，<figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">在_config.yml中修改  </span><br><span class=\"line\">deploy:</span><br><span class=\"line\">    repo: 新建的博客GitHub仓库地址</span><br><span class=\"line\">运行部署  </span><br><span class=\"line\">hexo clean  </span><br><span class=\"line\">hexo deploy。</span><br></pre></td></tr></table></figure></li>\n<li>Gitee上部署<br><strong>坑一</strong><br>在gitee上新建仓库时注意仓库名字要与你的Gitee账户一致，例如我的仓库名字husheng3921(与账户名一样),这样才能保证Gitee创建博客的域名就是<code>http://husheng3921.gitee.io</code>,否则后面会带有后缀，例如仓库名:blog，系统会生成<code>http://husheng3921.gitee.io/blog</code>,你还需要在_confiy.yml中root属性配置blog值。  <figure class=\"highlight plain\"><table><tr><td class=\"code\"><pre><span class=\"line\">在_config.yml中修改  </span><br><span class=\"line\">deploy:</span><br><span class=\"line\">    repo: 新建的博客gitee仓库地址</span><br><span class=\"line\">运行部署  </span><br><span class=\"line\">hexo clean  </span><br><span class=\"line\">hexo deploy</span><br></pre></td></tr></table></figure>\n点击博客仓库-服务-Gitee Pages<br><img src=\"/img/gitee1.png\" alt=\"\"><br><img src=\"/img/gitee2.jpg\" alt=\"\"><br>启动成功后如下<br><img src=\"/img/gitee3.jpg\" alt=\"\"><br><strong>坑二</strong><br>每次hexo deploy部署后，都要点击更新按钮，内容才回更新。这个比github上麻烦一点。 </li>\n</ul>\n<h3 id=\"末尾\"><a href=\"#末尾\" class=\"headerlink\" title=\"末尾\"></a>末尾</h3><p>距上一次在CSDN上写博客已经快3年了，上次写的也是入门级教程，感觉逻辑和语言还是有些小毛病，争取一次次改进，锻炼自己的书写能力，通过写博客来加深自己对知识的理解。</p>\n","tags":["入门","git"]},{"title":"test2","url":"/2020/02/23/test2/","content":"","tags":["入门","测试"]},{"title":"test","url":"/2020/02/23/test/","content":"<h2 id=\"测试\"><a href=\"#测试\" class=\"headerlink\" title=\"测试\"></a>测试</h2><ul>\n<li>测试提交</li>\n</ul>\n","tags":["入门"]},{"title":"Hello World","url":"/2020/02/23/hello-world/","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n"}]